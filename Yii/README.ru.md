# BlogMVC / Yii 1.x

Добро пожаловать в репозиторий, содержащий рализацию
[BlogMVC](http://blogmvc.com) на основе Yii.

### Установка

1. Разместите папку Yii где угодно на вашем веб-сервере и зайдите в нее
2. [Раздобудьте composer](http://getcomposer.org)
3. Выполните `php composer.phar install --no-dev`
4. Опишите подеключение к БД в файле `config/db.php`
5. Запустите `php boot/console migrate up` и жмите `y`. При желании можно
добавить ключ `--interactive=0` для автоматического подтверждения
6. Натравите ваш сервер на файл `public/index.php` (в папке `config/templates`
можно найти готовые примеры конфигурации).
7. Все, установка закончена, можно расслабиться и выпить любимого милкшейка.
Пароль-логин для входа - **admin**/**admin**, только не забудьте их поменять.
8. При желании можно настроить мета-теги в файле `/views/chunks/meta.twig`.

### Подробная установка

1. Скачайте любым способом содержимое папки Yii репозитария BlogMVC - скорее
всего, вам просто надо нажать кнопку "Download ZIP" справа на странице
[github](https://github.com/Grafikart/BlogMVC).
2. После этого потребуется менеджер зависимостей для установки Twig. Twig
разрабатывается отдельно от Yii, поэтому он не входит в фреймворк; в то же время
было бы некрасивым просить скачать его как расширение или включать в репозиторий.
Поэтому вам нужно заполучить копию [Composer](http://getcomposer.org). Composer
не требует особой установки и доступен для работы сразу после скачивания
`.phar`-архива или стандартной установки.
3. Для установки зависимостей требуется выполнить команду `install` Composer,
находясь в папке Yii: `php composer.phar install --no-dev`. Ключ `--no-dev`
позволит не скачивать дополнительныйе пакеты, не требующиеся для работы.
4. На этом этапе необходимо подключить приложеник базе данных. Эта процедура
заключаетсяв указании необходимых данных о подключении в файле `config/db.php`.
С форматом задания сведений о подключении можно ознакомиться в
[официальной документации](http://yiiframework.ru/doc/guide/ru/database.dao),
также в папке `config/templates` лежат примеры, которыми можно воспользоваться.
5. Последний шаг в подготовке приложения к работе - развертывание структуры базы
данных и заполнение ее изначальными данными. Обычно эти две операции
разделяются, но я решил не мудрить.
Чтобы произвести эту операцию, необходимо запустить команду миграции:
`php boot/console migrate up`. Это вызовет стандартную команду Yii, подробнее
про которую вы можете узнать все в той же
[документации](http://yiiframework.ru/doc/guide/ru/database.migration).
6. Остался самый последний шаг - приложение уже готово к работе, но недоступно
из сети интернет. Все, что осталось - это заставить ваш любимый веб-сервер
выполнять файл `public/index.php` по пришедшему извне запросу. Примеры
конфигурации для nginx и apache можно найти в папке `config/templates` или в
[официальной документации](http://yiiframework.ru/doc/guide/ru/quickstart.apache-nginx-config)
7. Милкшейк!

### Требования

1. PHP 5.3 или выше
2. [Composer](http://getcomposer.org)
3. MySQL, PostgreSQL или SQLite. Oracle и MS SQL Server *могут* заработать,
однако шанса потестировать их не выпало (да, я слишком ленив, чтобы ставить SQL
Server Express).
4. Любой веб-сервер, умеющий в PHP

### Dev-требования

1. [PHPCI](https://www.phptesting.org)
2. [Selenium](http://seleniumhq.org) и любой поддерживающий браузер
([phantomjs](http://phantomjs.org/) для скорострельных тестов, firefox или
[chrome](https://code.google.com/p/selenium/wiki/ChromeDriver) для мжвячни
визуализации).
3. [Codeception](http://codeception.com) (установится сам с помощью composer).

### Благодарности

Хотелось бы с любовью упомянуть следующие проекты:
[codeception](http://codeception.com), [phpci](https://www.phptesting.org),
[phptest.club](http://phptest.club) (сейчас там не так много народа, поэтому
было бы хорошо, если бы вы его там обеспечиили своим присутствием),
[hashcode.ru](http://hashcode.ru) и [askdev.ru](http://askdev.ru),
[digital ocean](https://www.digitalocean.com) и
[redmine](http://redmine.org).